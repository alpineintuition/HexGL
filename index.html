<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="description" content="Create your own controller powered by artificial intelligence.">
	<meta name="author" content="Alpine Intuition Sàrl">

	<title>Alpine Intuition HexAI | AI powered control"</title>

	<meta name="description" content="AI powered HexGL is a futuristic racing game initially built by Thibaut Despoulain (BKcore) using HTML5, Javascript and WebGL that has been extended by the Alpine Intuition team to include AI powered control!">
	<meta name="author" content="Alpine Intuition Sàrl">
	<meta property="og:title" content="AI HexGL, the AI Ready HTML5 futuristic racing game." />
	<meta property="og:type" content="game" />
	<meta property="og:url" content="http://alpineintuition.com/ai.hexgl/" />
	<meta property="og:image" content="http://alpineintuition.com/ai.hexgl/assets/feat-img.jpg" />
	<meta property="og:site_name" content="Alpine Intuition HexAI | AI powered control" />
	<meta property="fb:admins" content="1482017639" />
	<link rel="icon" href="./assets/cropped-logocolor-192x192.jpg" type="image/jpg">
	<link rel="shortcut icon" href="./assets/cropped-logocolor-192x192.jpg" type="image/jpg">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

	<script type="text/javascript">
		function dropHandler(ev) {
			console.log('File(s) dropped');

			// Prevent default behavior (Prevent file from being opened)
			ev.preventDefault();

			if (ev.dataTransfer.items) {
				// Use DataTransferItemList interface to access the file(s)
				for (var i = 0; i < ev.dataTransfer.items.length; i++) {
					// If dropped items aren't files, reject them
					if (ev.dataTransfer.items[i].kind === 'file') {
						var file = ev.dataTransfer.items[i].getAsFile();
						console.log('... file[' + i + '].name = ' + file.name);
					}
				}
			}
			else {
				// Use DataTransfer interface to access the file(s)
				for (var i = 0; i < ev.dataTransfer.files.length; i++) {
					console.log('... file[' + i + '].name = ' + ev.dataTransfer.files[i].name);
				}
			}
		}

		function dragOverHandler(ev) {
			//console.log('File(s) in drop zone');

			// Prevent default behavior (Prevent file from being opened)
			ev.preventDefault();
		}

		function getUploadPos(ev) {
			var position = $("#uploadForm").offset();
			var d = document.getElementById('ItsHere');
			d.style.display = "block"
			d.style.position = "absolute";
			d.style.left = position.left + 'px';
			d.style.top = position.top + 'px';
		}
	</script>
</head>
<body>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2 sidebar">
                <img alt="Alpine Intuition Logo" src="assets/Logo-White-Small.png" style="width:100%;padding:15px;">
                <div id="card-0">
                    <div class="card">
                        <div class="card-header" id="headingOne">
                            <a class="card-link" data-toggle="collapse" data-parent="#card-0" data-target="#card-element-1" aria-expanded="true" aria-controls="card-element-1">
                                1 : Train AI
                            </a>
                        </div>
                        <div id="card-element-1" class="collapse show" aria-labelledby="headingOne" data-parent="#card-0">
                            <div class="card-body">
                                <ul class="console-list">
                                    <li>Follow the instruction on the right to train your AI enabled game controller</li>
                                    <li>Click the botton below to to open Teachable Machine</li>
                                </ul>

                                <div style="text-align:center;">
                                    <button type="button" class="btn btn-console" onclick="window.open('https://teachablemachine.withgoogle.com/train','_blank')">
                                        Go to Teachable Machine
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header" id="headingTwo">
                            <a class="card-link collapsed" data-toggle="collapse" data-parent="#card-0" data-target="#card-element-2" aria-expanded="false" aria-controls="card-element-2">
                                2 : Upload AI
                            </a>
                        </div>
                        <div id="card-element-2" class="collapse" aria-labelledby="headingTwo" data-parent="#card-0">
                            <div class="card-body">
                                <ul class="console-list">
                                    <li>Select your AI controller (3 files inside the downloaded ZIP file) with the bottons here below.</li>
                                </ul>
                                <div id="uploadForm">
                                    <form class="form" style="text-align:center;">
                                        <label id="metadata-lbl" class="btn btn-console" for="metadata" style="margin-top:0px;" >metadata.json</label>
                                        <input style="display:none;" type="file" accept=".json, .bin" class="uploadfile" id="metadata" onchange="$(document.getElementById('metadata-lbl').innerHTML = 'metadata.json &#10004;');">
                                        <label id="model-lbl" class="btn btn-console" for="model" style="margin-top:0px;">model.json</label>
                                        <input style="display:none;" label="model.json" type="file" accept=".json, .bin" class="uploadfile" id="model" onchange="$(document.getElementById('model-lbl').innerHTML = 'model.json &#10004;');">
                                        <label id="weights-lbl" class="btn btn-console" for="weights" style="margin-top:0px;">weights.bin</label>
                                        <input style="display:none;" type="file" accept=".json, .bin" class="uploadfile" id="weights" onchange="$(document.getElementById('weights-lbl').innerHTML = 'weights.bin &#10004;');">
                                    </form>
                                </div>
                                <ul class="console-list">
                                    <li>Finaly, press the button below to upload your files.</li>
                                </ul>
                                <div id="uploadFiles" style="text-align:center;">
                                    <button class="btn btn-console" onclick="console.log('Files selected'); $('#content-container-1').hide(); $('#content-container-2').hide(); $('#content-container-3').show(); $('#card-element-3').collapse();">Upload files</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header" id="headingThree">
                            <a class="card-link collapsed" data-toggle="collapse" data-parent="#card-0" data-target="#card-element-3" aria-expanded="false" aria-controls="card-element-3">
                                3 : Play !
                            </a>
                        </div>
                        <div id="card-element-3" class="collapse" aria-labelledby="headingThree" data-parent="#card-0">
                            <div class="card-body">
                                <div id="play">
                                    <ul class="console-list">
                                        <li>Game ready to play, hit start.</li>
                                    </ul>
                                    <div id="btn-play" style="text-align:center;">
                                        <button type="button" class="btn btn-console" onclick="console.log('Clicked Play');$('#content-container-1').hide(); $('#content-container-2').hide(); $('#content-container-3').show(); $('#play').hide(); $('#reload').show(); init_star(); init_boom(); ">
                                            Play
                                        </button>
                                    </div>
                                </div>
                                <div id="reload" style="display:none;">
                                    <ul class="console-list">
                                        <li>Game is playing, use the button below to reload.</li>
                                    </ul>
                                    <div id="btn-play" style="text-align:center;">
                                        <button type="button" class="btn btn-console" onclick="console.log('Clicked Reload');$('#content-container-1').hide(); $('#content-container-2').hide(); $('#content-container-3').show(); init_star(); init_boom(); ">
                                            Reload
                                        </button>
                                    </div>
                                </div>
                                <div class="console-box" id="webcam-container">
                                    <img id="webcam-placeholder" max-width="100%" style="max-height: 100px;" alt="Place Holder for Webcam" src="./assets/NoCamera.png" />
                                </div>
                                <div class="console-box" style="text-align:left;">
                                    <div>
                                        <label for="ai-ctrl-neutral">F :</label>
                                        <progress classe="console-progress" id="ai-ctrl-neutral" value="90" max="100" style="max-width:80%"></progress>
                                    </div>
                                    <div>
                                        <label for="ai-ctrl-left">L :</label>
                                        <progress id="ai-ctrl-left" value="5" max="100" style="max-width:80%"></progress>
                                    </div>
                                    <div>
                                        <label for="ai-ctrl-right">R :</label>
                                        <progress id="ai-ctrl-right" value="4" max="100" style="max-width:80%"></progress>
                                    </div>
                                    <div>
                                        <label for="ai-ctrl-brake">B :</label>
                                        <progress id="ai-ctrl-brake" value="1" max="100" style="max-width:80%"></progress>
                                    </div>
                                </div>
                                <!--<ul class="console-list">
        <li>Main Command : FORWARD (F)</li>
    </ul>-->
                            </div>
                        </div>
                    </div>
                </div>
                <div id="footer-about">
                    <a id="modal-about" href="#modal-container-1" role="button" class="btn console-link" data-toggle="modal">About HexAI</a>
                </div>
                <div class="modal fade" id="modal-container-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="myModalLabel">
                                    About HexAI
                                </h5>
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <p>This project is braught to you by Alpine Intuition - Making the Best of AI available to everyone, everywhere.</p>
                                <p>We created this projet in a effort to truely bring AI to everyone. We wanted to feature that whatever your entry skills are, there are today tools making AI avaiale to and usable by everyone.</p>
                                <p>this project is completely open source, you can find it here :</p>
								<a href="https://github.com/alpineintuition/HexGL" target="_blank" rel="noopener">github.com/alpineintuition/HexGL</a>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                                    Close
                                </button>
                            </div>
                        </div>

                    </div>

                </div>

            </div>
            <div class="col-md-10" style="padding:0px;">
                <div class="content-container" id="content-container-1">
                    <h3>
                        Use Teachable Machine to train your AI controller
                    </h3>

                    <ol>
                    <br />
                    <p>
                    In this tutorial you will discover what artificial intelligence and machine learning are by creating your own AI based game controller. For that we will use <a href="https://teachablemachine.withgoogle.com/train" target="_blank" rel="noopener">Teachable Machine</a> a fast and easy way to create machine learning models without any required code skills, and <a href="https://hexgl.bkcore.com" target="_blank" rel="noopener">HexGL</a> a simple open source racing game.
                    </p>
                        <li class="tuto-list">Click on the link below to go the Teachable Machine interface<br /><a href="https://teachablemachine.withgoogle.com/train" target="_blank" rel="noopener">teachablemachine.withgoogle.com</a></li>
                        <li class="tuto-list">Click on <strong>Image Project<br /></strong> The Image project will enable you to create an image classifier model. A classifier model is a model that takes various data as input and is able to classify them into different categories. For example, you could train an image classifier to recognise apples images from bananas images. Here we will use it for our game controller. <br /><img class="tuto-img" src="./assets/Slide1.png" alt="" /></li>
                        <li class="tuto-list"><strong>Create</strong> a total of <strong>4 classes</strong> with the button <strong>Add a class<br /></strong> This corresponds to how many categories we want our model to be able to recognise. For our racing game we need four commands "forward", "left", "right" and "brake".<br /><img class="tuto-img" src="./assets/Slide2.png" alt="" /><br /></li>
                        <li class="tuto-list">Name them <strong>in order</strong>: Forward, Left, Right and Brake<br /> In machine learning this corresponds to the "labels" of the categories we want to recognise. The model will then learn to recognise to which label does an image correspond.<br /> <img class="tuto-img" src="./assets/Slide3.png" alt="" /></li>
                        <li class="tuto-list">It is now time to create the dataset to train your model. You now need to <strong>decide what type of controller you want</strong> to use. In this project, we are using the webcam as input for the AI. You will have to choose the&nbsp;<strong>visual differentiator</strong> you want between your Forward, Left, Right and Brake instructions. <br />Here are a set of examples to illustrate to point and hopefully spark some ideas.<br /><img class="tuto-img" src="./assets/Slide4.png" alt="" /></li>
                        <li class="tuto-list">Add a <strong>minimum of 200 images</strong> for each class with the Webcam by using the <strong>Hold to record</strong> button.&nbsp;Make sure to have diversity in the images of a same class (i.e move a little bit). Since you won't always do the exact same pose, we need the AI to take this into account. This is your model dataset, every machine learing or AI model needs to learn from data, here we are providing it with images that we labelled into different categories, this is called the training dataset.<br /><img class="tuto-img" src="./assets/Slide5.png" alt="" /></li>
                        <li class="tuto-list">Use the <strong>Advanced</strong> button of the middle panel and change the <strong>Epochs</strong> value to&nbsp;<strong>16</strong>. This will make the training shorter.<br /><img class="tuto-img" src="./assets/Slide6.png" alt="" /></li>
                        <li class="tuto-list">Then click on <strong>Train Model</strong> and be patient ;). What is happening? The model is now "training", what it means is that a model, that has never seen your images before is now trying to classify them into the four categories. It is a trial and error process, the model tries to "guess" which categories does your image go into, and everytime it is right or wrong it updates itself.<br /><img class="tuto-img" src="./assets/Slide7.png" alt="" /></li>
                        <li class="tuto-list">Once the training is complete you can directly <strong>visualize and test your AI controller</strong> in action in the&nbsp;<strong>Output section&nbsp;</strong>of the right panel. It's ok if you don't get a value of 100%, however the correct command should be overwhelmingly higher than the others. If the model is not very precise, try adding more data to the problematic categories and re-train your model. Once you are satisfied with your model you can continue to the next step.<br /><img class="tuto-img" src="./assets/Slide8.png" alt="" /></li>
                        <li class="tuto-list">Download your model with the buttons <strong>Export model</strong>, <strong>Download</strong> and then <strong>Download my model</strong>.<br /><img class="tuto-img" src="./assets/Slide9.png" alt="" /></li>
                        <li class="tuto-list">Once the download is complete, click on the <strong>Next</strong> button below.</li>
                    </ol>
                    <div style="text-align:center;">
                        <button type="button" class="btn btn-console" data-toggle="collapse" data-parent="#card-0" data-target="#card-element-2" aria-expanded="false" aria-controls="card-element-2" style="background-color:#4472C4;color:#FFF" onclick="$('#content-container-1').hide(); $('#content-container-2').show();">
                            Next
                        </button>
                    </div>
                </div>
                <div class="content-container" id="content-container-2" style="display:none;">
                    <h3>
                        Upload your trained AI controller
                    </h3>
                    <p class="tuto-list">Use the buttons on the left to upload and use your newly trained AI controller.</p>
                    <p>Each file of your downloaded ZIP archive must be selected using the appropriate button,</p>
                    <div style="text-align:center;">
                        <button type="button" class="btn btn-console" style="background-color:#4472C4;color:#FFF" onclick="getUploadPos();">
                            Show me where the buttons are please !
                        </button>
                    </div>
                    <div id="ItsHere" style="display:none;">
                        <img src="./assets/left-pointing-animated-red-arrow.gif" alt="" />
                    </div>
                </div>
                <div class="content-container" id="content-container-3" style="display:none;">
                    <div id="step-1" style="display: none">
                        <div id="global"></div>
                        <div id="title">
                        </div>
                        <div id="menucontainer">
                            <div id="menu">
                                <div id="start">Start</div>
                                <div id="s-controlType">Controls: Keyboard</div>
                                <div id="s-quality">Quality: High</div>
                                <div id="s-hud">HUD: On</div>
                                <div id="s-godmode" style="display: none">Godmode: Off</div>
                                <div id="s-credits">Credits</div>
                            </div>
                        </div>
                    </div>
                    <div id="step-2" style="display: none">
                        <div id="ctrl-help">Click/Touch to continue.</div>
                    </div>
                    <div id="step-3" style="display: none">
                        <div id="progressbar"></div>
                    </div>
                    <div id="step-4" style="display: none">
                        <div id="overlay" style="position: fixed;z-index: 1;"></div>
                        <div id="main"></div>
                    </div>
                    <div id="step-5" style="display: none">
                        <div id="time"></div>
                        <div id="ctrl-help">Click/Touch to continue.</div>
                    </div>
                    <div id="credits" style="display: none">
                        <h3>Code</h3>
                        <p><b>Concept and Development</b><br>Thibaut Despoulain (BKcore)</p>
                        <p><b>Contributors</b><br>townxelliot<br>mahesh.kk</p>
                        <p><b>Technologies</b><br>WebGL<br>JavaScript<br>CoffeeScript<br>Three.js<br>LeapMotion</p>
                        <h3>Graphics</h3>
                        <p><b>HexMKI base model</b><br>Charnel</p>
                        <p><b>Track texture</b><br>Nobiax</p>
                        <h4>Click anywhere to continue.</h4>
                    </div>
                    <div id="leapinfo" style="display: none"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script src="js/scripts.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>

    <script src="libs/leap-0.4.1.min.js"></script>
    <script src="libs/Three.dev.js"></script>
    <script src="libs/ShaderExtras.js"></script>
    <script src="libs/postprocessing/EffectComposer.js"></script>
    <script src="libs/postprocessing/RenderPass.js"></script>
    <script src="libs/postprocessing/BloomPass.js"></script>
    <script src="libs/postprocessing/ShaderPass.js"></script>
    <script src="libs/postprocessing/MaskPass.js"></script>
    <script src="libs/Detector.js"></script>
    <script src="libs/Stats.js"></script>
    <script src="libs/DAT.GUI.min.js"></script>

    <script src="bkcore.coffee/controllers/TouchController.js"></script>
    <script src="bkcore.coffee/controllers/OrientationController.js"></script>
    <script src="bkcore.coffee/controllers/GamepadController.js"></script>
    <script src="bkcore.coffee/Timer.js"></script>
    <script src="bkcore.coffee/ImageData.js"></script>
    <script src="bkcore.coffee/Utils.js"></script>
    <script src="bkcore/threejs/RenderManager.js"></script>
    <script src="bkcore/threejs/Shaders.js"></script>
    <script src="bkcore/threejs/Particles.js"></script>
    <script src="bkcore/threejs/Loader.js"></script>
    <script src="bkcore/Audio.js"></script>
    <script src="bkcore/hexgl/HUD.js"></script>
    <script src="bkcore/hexgl/RaceData.js"></script>
    <script src="bkcore/hexgl/ShipControls.js"></script>
    <script src="bkcore/hexgl/ShipEffects.js"></script>
    <script src="bkcore/hexgl/CameraChase.js"></script>
    <script src="bkcore/hexgl/Gameplay.js"></script>
    <script src="bkcore/hexgl/tracks/Cityscape.js"></script>
    <script src="bkcore/hexgl/HexGL.js"></script>

    <script src="launch.js"></script>

</body>
</html>
